Описание проекта

Цель проекта - реализация REST API для управления финансовыми транзакциями пользователей.

Проект предоставляет следующие функции:

    Создание пользователя
    Добавление финансовой транзакции типа DEPOSIT или WITHDRAW
    Получение информации о транзакции по ее идентификатору
    Получение текущего баланса пользователя
    Получение баланса пользователя за указанную дату

Проект использует следующие технологии:

    Python 3
    SQLAlchemy для работы с базой данных
    PostgreSQL для хранения данных
    Alembic для миграции схемы БД
    Gino для ORM

API реализовано с использованием фреймворка aiohttp.
Установка и запуск проекта

    Скачайте проект на свой компьютер
    Установите все необходимые зависимости, используя команду pip install -r base.txt
    Создайте базу данных PostgreSQL и настройте доступ к ней в файле config.py
    Выполните миграции БД с помощью Alembic, используя команду alembic upgrade head
    Запустите приложение, используя команду python __main.__py
    API будет доступно по адресу http://localhost:8080



Ответы на вопросы:
1. Архитектура должна гарантировать обработку транзакции ровно 1 раз. Какие требования это накладывает на сам сервис и соседние сервисы?
Для того, чтобы гарантировать обработку транзакции ровно один раз, необходимо обеспечить ее атомарность, то есть выполнение всех операций либо успешно, либо не выполнение ни одной из них, в случае ошибки.

Также нужно обеспечить уникальность транзакций, чтобы избежать их обработки более одного раза. Для этого можно использовать уникальные идентификаторы.

Сервисы, которые взаимодействуют друг с другом, также должны поддерживать гарантированную обработку операций ровно один раз, чтобы избежать дублирования операций.

2. Описать (можно не реализовывать), как можно реализовать уведомление других сервисов о транзакциях. Например, уведомить рекламный движок, который работает при наличии средств на счету. 
Для реализации уведомления других сервисов о транзакциях можно использовать подход, основанный на отправке сообщений.

Когда транзакция успешно обработана, сервис, который ее обработал, отправляет сообщение с информацией о транзакции на другие сервисы, которые нуждаются в этой информации. В нашем примере, это рекламный движок.

Сообщение может содержать данные о транзакции, такие как ее тип, сумма и дата, а также дополнительную информацию, если это необходимо. Например, в нашем примере сообщение может содержать информацию о том, что на счету пользователя есть средства для запуска рекламной кампании.

Для отправки сообщений можно использовать различные механизмы, такие как очереди сообщений или протоколы обмена сообщениями. Важно, чтобы эти механизмы были достаточно надежными и отказоустойчивыми, чтобы уведомления о транзакциях не потерялись.

Рекламный движок, в свою очередь, должен быть настроен на прием сообщений и обработку информации о транзакции. Как только он получит сообщение о транзакции, он может запустить рекламную кампанию пользователя.

3.Тезисно перечислить, какие инструменты можно применить для контроля качества работы сервиса
    Мониторинг - системы мониторинга позволяют отслеживать работу сервиса в режиме реального времени, анализировать данные о производительности и выявлять проблемы.

    Логирование - запись логов позволяет отслеживать работу сервиса и выявлять проблемы, например, ошибки в коде или запросы с низкой производительностью.

    Тестирование - системы тестирования помогают проверять работу сервиса в различных условиях, например, в условиях высокой нагрузки или при использовании разных конфигураций.

    Анализ производительности - инструменты анализа производительности позволяют выявлять узкие места в работе сервиса и оптимизировать его производительность.

    Автоматизация - автоматические тесты и процессы могут помочь обнаруживать проблемы и ошибки быстрее и более эффективно.

    Code Review - ревью кода помогает выявлять ошибки в коде и улучшать качество разработки.

    Практики DevOps - применение практик DevOps, таких как CI/CD и контейнеризация, может помочь упростить развертывание, масштабирование и обслуживание сервиса.

    Моделирование нагрузки - инструменты моделирования нагрузки позволяют оценить производительность сервиса при различных условиях и определить оптимальную конфигурацию для работы сервиса.
    
 4. Для гарантии того, что баланс пользователя не может быть отрицательным, можно использовать несколько подходов:
Есть несколько способов гарантировать, что баланс пользователя не может стать отрицательным:

    Проверять баланс пользователя перед выполнением операции списания средств. Если баланс недостаточен, то отказывать в выполнении операции (Этот реализован в коде).

    Использовать транзакционные базы данных, которые гарантируют атомарность операций. В рамках транзакции можно сначала проверить баланс пользователя, а затем выполнить операцию списания средств, если на счету достаточно денег. В случае ошибки транзакция будет отменена, и баланс пользователя не изменится.

